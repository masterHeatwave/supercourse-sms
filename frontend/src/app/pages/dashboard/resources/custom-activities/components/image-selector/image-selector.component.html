<app-loading [isLoading]="isLoading"></app-loading>
<p-dialog header="Image upload" [modal]="true" [(visible)]="isDialogVisible" [style]="{ width: '25rem' }" [closable]="false">
  <div class="upload-dialog-content">
    <div style="display: flex; align-items: center; margin-bottom: 15px">
      <span>Upload from this computer</span>
      <input
        type="file"
        accept="image/*"
        #fileInput
        (change)="onFileSelected($event)"
        id="upload"
        style="display: none"
        class="flex-auto"
        autocomplete="off"
      />
      <p-button label="Upload" (click)="uploadClick()"></p-button>
    </div>

    <div class="search-groups">
      <span>Generate using AI</span>
      <div style="display: flex; align-items: center; text-align: center; margin-bottom: 15px">
        <input pInputText id="generate" [(ngModel)]="AIQueryText" class="flex-auto" autocomplete="off" />
        <p-button label="Generate" (click)="generateWithAI()"></p-button>
      </div>
    </div>

    <div class="search-groups">
      <span>Search on pexels</span>
      <div style="display: flex; align-items: center; margin-bottom: 15px">
        <input pInputText id="search" [(ngModel)]="PexelsQueryText" class="flex-auto" autocomplete="off" />
        <p-button label="Search" (click)="searthWithPexels()"></p-button>
      </div>
    </div>

    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%">
      <p-image *ngIf="imageURL && imageURL.trim() !== ''" [src]="imageURL" alt="User uploaded image" width="250" [preview]="true" />
      <label *ngIf="imageURL && imageURL.trim() !== ''" class="delete-label" (click)="deleteImage()">[delete]</label>

      <label class="note-class">Note: You should save the images generated from AI and upload through your computer.</label>
      <div style="display: flex; margin-top: 30px">
        <p-button label="Cancel" severity="secondary" (click)="isDialogVisible = false" />
        <p-button label="OK" (click)="isDialogVisible = false" />
      </div>
    </div>
  </div>
</p-dialog>
<!-- Image dialog -->
<i class="pi pi-image" #imageIcon style="font-size: 1.5rem; margin-left: 15px" (click)="showDialog()"></i>
