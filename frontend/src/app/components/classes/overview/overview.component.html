<div class="mt-4">
    <div class="flex flex-column gap-4">
        <div class="flex flex-column md:flex-row gap-4">
            <div class="flex flex-column gap-4 w-full md:w-6">
                <div class="custom-card p-4">
                    <div class="flex align-items-center justify-content-between">
                        <div class="text-xl text-primary font-bold">Class Info</div>
                        <div>
                            <app-outline-button [borderColor]="'var(--primary-color)'" (click)="navigateToEdit()">
                                Edit
                            </app-outline-button>
                        </div>
                    </div>
                    <div class="pt-2 grid">
                        <div class="col-6">
                            <div class="flex flex-column gap-2 p-3 border-round-sm surface-100 text-md">
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Class:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.class }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Level:
                                    </div>
                                    <div class="font-regular">
                                        {{ formattedLevel }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        CEFR:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.cefr }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Subject:
                                    </div>
                                    <div class="font-regular">
                                        {{ formattedSubject }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Class Size:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.classSize }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Materials:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.materials }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="flex flex-column gap-2 p-3 border-round-sm surface-100 text-md">
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Created By:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.createdBy }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Creation Date:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.creationDate }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Last Updated:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.lastUpdated }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Session Duration:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.sessionDuration }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Sessions Per Week:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.sessionsPerWeek }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Total Hours Per Week:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.totalHoursPerWeek }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="flex flex-column gap-2 p-3 border-round-sm surface-100 text-md">
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Teacher
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.teacher }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Phone:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.phone }}
                                    </div>
                                </div>
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Email:
                                    </div>
                                    <div class="font-regular">
                                        {{ overviewInfo?.email }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="flex flex-column gap-2 p-3 border-round-sm surface-100 text-md">
                                <div class="flex align-items-center gap-2">
                                    <div class="text-primary font-bold">
                                        Week Timetable:
                                    </div>
                                </div>
                                <div class="flex flex-column gap-2 gap-2">
                                    <div *ngFor="let day of overviewInfo?.weekTimetable"
                                        class="flex align-items-center gap-2">
                                        <div>
                                            {{ day.day }}
                                        </div>
                                        <div class="font-regular">
                                            {{ day.startTime }} - {{ day.endTime }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex gap-2 justify-content-between px-4">
                    <div class="w-full">
                        <app-outline-button [borderColor]="'var(--primary-color)'" [fullWidth]="true">
                            Coursebook
                        </app-outline-button>
                    </div>
                    <div class="w-full">
                        <app-outline-button [borderColor]="'var(--primary-color)'" [fullWidth]="true">
                            Activity Book
                        </app-outline-button>
                    </div>
                </div>
            </div>
            <div class="w-full md:w-6">
                <div class="custom-card p-4">
                    <div>
                        <div class="text-xl text-primary font-bold">Notes</div>
                        <div class="pt-2 flex flex-column gap-2">
                            <div class="p-3 border-round-sm surface-100">
                                {{ overviewInfo?.notes || 'No notes available for this class.' }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <p-toast></p-toast>
    <div class="flex flex-column gap-4 custom-card mt-4 p-4">
        <div class="text-2xl text-primary font-bold mb-3">
            Board
        </div>
        
        <!-- Loading indicator -->
        <div *ngIf="loadingPosts" class="flex justify-content-center p-4">
            <i class="pi pi-spin pi-spinner text-primary text-4xl"></i>
        </div>
        
        <!-- Empty state -->
        <div *ngIf="!loadingPosts && !hasPosts" class="flex flex-column align-items-center justify-content-center p-5">
            <i class="pi pi-inbox text-6xl text-400 mb-4"></i>
            <h3 class="text-xl font-bold text-700 mb-2">{{ 'board.no_posts_title' | translate }}</h3>
            <p class="text-600">{{ 'board.no_posts_message' | translate }}</p>
        </div>
        
        <!-- Posts grid view -->
        <div *ngIf="!loadingPosts && posts.length > 0" class="grid">
            <div class="col-12 md:col-6 lg:col-4" *ngFor="let post of posts">
                <div class="relative">
                    <!-- Author initials circle -->
                    <div class="author-initials-circle">
                        {{ getInitials(post) }}
                    </div>
                    <!-- Clickable card -->
                    <div (click)="goToPost(post.id)" class="cursor-pointer">
                        <app-post-card
                            [title]="post.title"
                            [content]="getExcerpt(post.content)"
                            [date]="formatDate(post.published_at || post.createdAt)"
                            [postImage]="getImageUrl(post.featured_image)"
                            [avatarImage]="'assets/images/avatar.jpg'"
                            [author]="formatAuthor(post)"
                            [priority]="post.priority"
                            [readOnly]="true"
                        ></app-post-card>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="custom-card mt-4 custom-calendar">
        <full-calendar [options]="calendarOptions"></full-calendar>
    </div>
</div>